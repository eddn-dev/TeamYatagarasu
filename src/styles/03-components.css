@utility ui-btn {
  @apply inline-flex items-center justify-center font-display text-sm font-bold
         px-5 py-2.5 rounded-lg shadow-card transition
         focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2;
}

@utility ui-btn-primary {
  @apply ui-btn bg-brand-500 text-white hover:bg-brand-600
         focus-visible:outline-brand-600
         hover:shadow-[0_0_15px_-3px_var(--color-brand-300)]; /* <-- Añadido/modificado */
}



@utility ui-btn-ghost {
  @apply ui-btn text-brand-500 hover:text-brand-600 hover:bg-card/50;
}

/* ---------- Tarjetas de portafolio ---------- */
@utility ui-card {
  @apply flex flex-col text-left bg-card text-text-light rounded-lg
         border-2 border-card-border shadow-card p-5
         transition hover:bg-card-hover hover:-translate-y-1
         hover:border-card-border-hover;
}

/* --- Wrapper Principal --- */
@utility ui-nav {
  @apply fixed top-0 inset-x-0 z-50 transition-all duration-300;
  /* El fondo se añade con JS al hacer scroll, está bien así */
}
@utility ui-nav--scrolled {
  @apply bg-dark-800/80 shadow-md supports-[backdrop-filter]:bg-dark-800/60;
}
@utility ui-nav-inner {
  @apply max-w-7xl mx-auto flex items-center justify-between w-full px-4 md:px-8 h-20; /* Altura fija para evitar saltos de layout */
}

/* --- Botón Hamburguesa (Toggle) --- */
@utility ui-nav-toggle {
  @apply md:hidden relative w-8 h-6 cursor-pointer z-[51]; /* z-index superior al panel */
}
@utility ui-bar {
  @apply absolute left-0 w-full h-[3px] rounded bg-text-light transition-all duration-300;
}
@utility ui-bar-top    { @apply top-0; }
@utility ui-bar-mid    { @apply top-1/2 -translate-y-1/2; }
@utility ui-bar-bot    { @apply bottom-0; }

/* Sin @utility — selector puro */
.ui-nav-toggle[data-open="true"] .ui-bar-top { @apply translate-y-[9.5px] rotate-45; }
.ui-nav-toggle[data-open="true"] .ui-bar-mid { @apply opacity-0; }
.ui-nav-toggle[data-open="true"] .ui-bar-bot { @apply -translate-y-[9.5px] -rotate-45; }



/* --- Panel Móvil (Mobile-First) --- */
/* Estilos base del panel: oculto fuera de la pantalla por defecto */
@utility ui-nav-mobile-panel {
  @apply fixed inset-0 z-[50] bg-dark-800/90 backdrop-blur-sm
         flex flex-col items-center justify-center gap-8
         transition-transform duration-300 ease-in-out md:hidden;
  transform: translateX(100%); /* <-- Inicia fuera de la pantalla a la derecha */
  visibility: hidden;
}

/* Estado abierto: se desliza a la vista */
@utility ui-nav-mobile-panel--open {
  transform: translateX(0);
  visibility: visible;
}

/* --- Enlaces de Navegación --- */
/* Contenedor de enlaces: oculto en móvil, visible en desktop */
@utility ui-nav-links-desktop {
  @apply hidden md:flex items-center gap-6 lg:gap-8;
}

/* Estilo común para todos los enlaces de navegación (móvil y desktop) */
@utility ui-nav-link {
  @apply font-display tracking-wider text-text-light text-lg
         transition-colors hover:text-brand-300
         focus-visible:outline-none focus-visible:ring-2
         focus-visible:ring-offset-2 focus-visible:ring-offset-dark-900
         focus-visible:ring-brand-500 rounded;
}

/* --- Consistencia en el CTA (Botón Contacto) --- */
/* Se aplica tanto en el botón de desktop como en el de móvil para consistencia */
@utility ui-nav-cta {
   /* Hereda de ui-btn-primary pero con la fuente de la navegación */
  @apply ui-btn-primary font-display tracking-wider;
}